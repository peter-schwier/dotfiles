#
# ~/.profile: Executed by the command interpreter for login shells.  This file
# is not read by bash(1) if ~/.bash_profile or ~/.bash_login exists.
#

if [ -d "$HOME/.local/bin" ] ; then
    PATH="$HOME/.local/bin:$PATH"
fi

[ -z "$PS1" ] && return # Exit if this is a non-interactive session.

printf "%s" "Set Prompts"
export PS0='\[\033[35m\][\D{%Y-%m-%dT%H:%M:%S%z}] \[\033[32m\]\u@\h:\[\033[33m\]\w \[\033[0m\].....\n'
export PS1='\n\[\033[35m\][\D{%Y-%m-%dT%H:%M:%S%z}] \[\033[32m\]\u@\h:\[\033[33m\]\w\[\033[0m\] \\$?=$? \[\033[36m\]`__git_ps1`\[\033[0m\]\n#\# \$ '

#
# Remainder of the file is pieces to pull into my script.
#

return

# REF: https://www.reddit.com/r/AlpineLinux/comments/x8dxcn/ash_customization/
#S.u.S.E. style prompt
if [ "$PS1" ]; then
        if [ "`id -u`" -eq 0 ]; then
                export PS1='\e[0;31m\u@\h:\w\$\e[m '
        else
                export PS1='\u@\h:\w> '
        fi
fi
# REF: https://tldp.org/HOWTO/Bash-Prompt-HOWTO/bash-prompt-escape-sequences.html
PS1='\e[1;31ma\e[1;33ml\e[1;32mp\e[1;34mi\e[1;36mn\e[1;35me\e[0mðŸ˜Š\w 

#
# REF: https://github.com/mxw/dotfiles/blob/master/profile
#

# If not running interactively, don't do anything.
# [ -z "$PS1" ] && return


#-----------------------------------------
# Basic settings.
#-----------------------------------------

# Set the default umask in case it isn't set elsewhere.
umask 022

# Use busybox vi.
export VISUAL="vi"
export EDITOR="vi"


#-----------------------------------------
# Shell and OS types.
#-----------------------------------------

if [ -n "$BASH_VERSION" ]; then
  PROFILE_SHELL=bash
elif [ -n "$ZSH_VERSION" ]; then
  PROFILE_SHELL=zsh
fi

OSNAME=${OSTYPE//[0-9.]/}

if [ "$OSNAME" == 'darwin' ] && command -v brew >/dev/null 2>&1; then
  eval "$(/opt/homebrew/bin/brew shellenv)"
  LOCAL_DIR=$(brew --prefix)
else
  LOCAL_DIR='/usr/local'
fi


#-----------------------------------------
# Early sourcing.
#-----------------------------------------

# Early local profile.
if [ -f "$HOME/.profile.before" ]; then
  . "$HOME/.profile.before"
fi

# Source a shell-specific early config.
if [ -f "$HOME/.${PROFILE_SHELL}rc.before" ]; then
  . "$HOME/.${PROFILE_SHELL}rc.before"
fi


#-----------------------------------------
# Path and prompt.
#-----------------------------------------

# Update PATH.
if [ "$OS_NAME" == 'darwin' ] && [ -d "/Library/TeX/texbin" ]; then
  PATH="/Library/TeX/texbin:$PATH"
fi
if [ -d "$HOME/bin" ]; then
  PATH="$HOME/bin:$PATH"
fi

COLOR_PROMPT=1

# Make sure PROMPT_COMMAND has no trailing ';'.
if [ ! -z "$PROMPT_COMMAND" ]; then
  trailing_space="${PROMPT_COMMAND##*[![:space:]]}"

  PROMPT_COMMAND="${PROMPT_COMMAND%$trailing_space}"
  if [ "${PROMPT_COMMAND: -1}" == ';' ]; then
    PROMPT_COMMAND="${PROMPT_COMMAND#;}"
  fi

  unset trailing_space
fi


#-----------------------------------------
# Sourcing.
#-----------------------------------------

# Shell-specific configs.
if [ -f "$HOME/.${PROFILE_SHELL}rc" ]; then
  . "$HOME/.${PROFILE_SHELL}rc"
fi

# Everything else.
for file in $(ls "$HOME/.profile.d/"); do
  . "$HOME/.profile.d/$file"
done

# Source our SCM prompt scripts.
if [ -f "$HOME/.gitprompt" ]; then
  . "$HOME/.gitprompt"
fi
if [ -f "$HOME/.hgrc.d/hgprompt" ]; then
  . "$HOME/.hgrc.d/hgprompt"
fi

#
# REF: https://github.com/jgmize/dotfiles/blob/main/.profile
#

# ~/.profile: executed by the command interpreter for login shells.
# This file is not read by bash(1), if ~/.bash_profile or ~/.bash_login
# exists.
# see /usr/share/doc/bash/examples/startup-files for examples.
# the files are located in the bash-doc package.

# the default umask is set in /etc/profile; for setting the umask
# for ssh logins, install and configure the libpam-umask package.
#umask 022

if [[ -e /usr/local/opt/grep/libexec/gnubin ]]; then
    PATH=/usr/local/opt/grep/libexec/gnubin:$PATH
fi

if [ -d "$HOME/anaconda/bin" ] ; then
    PATH="$HOME/anaconda/bin:$PATH"
fi

if [[ -e ~/Library/Python/3.11/bin ]]; then
    PATH=~/Library/Python/3.11/bin:$PATH
fi

if [ -d $HOME/go ]; then
    export GOROOT=$HOME/go
elif [ -d /usr/local/go ]; then
    export GOROOT=/usr/local/go
fi

if [ ! -z "$GOROOT" ]; then
    export PATH=$PATH:$GOROOT/bin
    export GOPATH=$HOME
elif [ -d /data/data/com.termux/files/usr/lib/go ]; then
    export GOROOT=/data/data/com.termux/files/usr/lib/go
    export GOPATH=$HOME
fi

if [ -d "$HOME/bin" ] ; then
    PATH="$HOME/bin:$PATH"
fi

if [ -d "$HOME/.local/bin" ] ; then
    PATH="$HOME/.local/bin:$PATH"
fi

if [ -d "$HOME/.cargo/bin" ] ; then
    PATH="$HOME/.cargo/bin:$PATH"
fi

if [ -d "/usr/local/opt/texinfo/bin" ] ; then
    PATH="/usr/local/opt/texinfo/bin:$PATH"
fi

for brew in {/opt/homebrew,/home/linuxbrew/.linuxbrew}/bin/brew; do
    if [[ -e  ${brew} ]]; then
        eval "$(${brew} shellenv)"
        break
    fi
done

if [[ -d /opt/homebrew/opt/gnu-sed/libexec/gnubin ]]; then
    PATH="/opt/homebrew/opt/gnu-sed/libexec/gnubin:$PATH"
fi

# if running bash
if [ -n "$BASH_VERSION" ]; then
    # include .bashrc if it exists
    if [ -f "$HOME/.bashrc" ]; then
	      . "$HOME/.bashrc"
    fi
fi

